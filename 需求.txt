# Markdown/多媒体分享网站功能

## 一、核心架构

已确定的技术栈：Supabase（数据库+认证）、腾讯云COS（文件存储+数据万象）、Vercel（部署）

---

## 二、核心功能
文字部分上传到supabase
有可视化markdown编辑器，进入分享页面为渲染后的markdown页面，支持代码高亮
可上传文件到存储桶，访问时通过数据万象返回压缩后的图片，点击后可下载原图
点击分享后返回短链分享链接

## 三、补充功能模块

### 用户系统
**账户体系**：使用用户名密码注册登录，访客可访问、评论，登录后才可发布内容
**个人空间**：用户主页展示已发布内容列表，支持置顶、归档、草稿箱功能
**配额管理**：限制存储空间（500MB）

---

### 内容管理增强
**版本历史**：自动保存编辑历史，支持回滚到任意版本，可对比两个版本差异
**批量操作**：支持批量导出为PDF/HTML、批量删除、批量设置权限
**回收站**：删除内容保留30天，可恢复

---

### 分享与协作
**权限控制**：公开访问、密码保护、仅限指定邮箱、限时访问（链接自动过期）
**访问统计**：查看浏览次数、访问来源、地理分布、访问时间分布
**评论系统**：访客可留言评论，支持匿名评论或要求登录
**协作编辑**：邀请他人共同编辑，支持评论批注模式

---

### 编辑器增强
**实时预览**：左右分栏或即时渲染模式切换
**扩展语法支持**：数学公式（KaTeX/MathJax）、流程图（Mermaid）、思维导图、表格增强
**图片处理**：粘贴即上传、拖拽上传、截图直接粘贴、从URL导入

---

### 多媒体增强
**文件预览**：PDF在线预览、Office文档预览、音视频播放器内嵌
**图床模式**：单独的图片上传入口，生成可直接引用的图片链接
**相册功能**：多图上传自动生成画廊展示，支持灯箱效果浏览

---

### 导入导出
**导入支持**：从Notion、语雀、Typora、本地.md文件批量导入
**导出格式**：Markdown源文件、带图片的ZIP包、PDF、HTML静态页面
**API接口**：提供开放API，支持第三方工具发布内容

---

### 个性化与品牌
**自定义域名**：用户可设置自己个人空间及分享内容链接名称
**主题切换**：明暗模式、多种阅读主题配色

## 环境变量及常量：
地域：cos.ap-beijing.myqcloud.com
Region:ap-beijing
secretId：COS_SERCRETID
secretKey：COS_SECRETKEY
存储桶名称：COS_BUCKET_NAME
appid：COS_APPID
SUPABASE_URL
SUPABASE_ANON_KEY
存储桶路径：/mdshare/

## 其他要求
项目名称:MDShare
创建数据库结构（字段除外）均需以mdshare_作为前缀